# B50 图片生成功能

## 功能说明

B50 图片生成功能允许用户将自己的 Best 50 成绩生成为一张精美的图片，方便分享到社交平台。

## 功能特性

### 1. 图片内容
- **顶部信息**：
  - 玩家名称
  - 总 Rating（带颜色渐变效果）
  
- **当期版本 Best 15**：
  - 15 个成绩卡片，5x3 网格布局
  - 显示排名、难度、等级、达成率、Rating
  - 背景使用曲目封面图片
  
- **往期版本 Best 35**：
  - 35 个成绩卡片，5x7 网格布局
  - 显示排名、难度、等级、达成率、Rating
  - 背景使用曲目封面图片

- **底部信息**：
  - 生成工具标识
  - 生成时间戳

### 2. 视觉效果
- **Rating 渐变色**：根据玩家等级自动应用对应的渐变效果
  - 0-999: 白色
  - 1000-1999: 蓝色
  - 2000-3999: 绿色
  - 4000-6999: 黄-橙渐变
  - 7000-9999: 红色
  - 10000-11999: 紫色
  - 12000-12999: 铜色
  - 13000-13999: 银色
  - 14000-14499: 金色
  - 14500-14999: 白金色
  - 15000+: 彩虹色

- **难度颜色**：
  - BASIC: 绿色
  - ADVANCED: 黄色
  - EXPERT: 红色
  - MASTER: 紫色
  - Re:MASTER: 浅紫色

### 3. 使用方法
1. 在 Best 50 页面查看成绩
2. 点击总览卡片底部的「生成 B50 图片」按钮
3. 等待图片生成（会显示加载提示）
4. 图片自动保存到系统相册
5. 提示保存成功

### 4. 权限要求
- Android: 需要存储权限（WRITE_EXTERNAL_STORAGE）
- iOS: 需要照片库权限（NSPhotoLibraryAddUsageDescription）

## 技术实现

### 依赖包
```yaml
screenshot: ^3.0.0          # 截图工具
image_gallery_saver: ^2.0.3 # 保存到相册
permission_handler: ^11.3.1  # 权限管理
```

### 核心组件
- `B50ImageGenerator`: 图片渲染组件
- `ScreenshotController`: 截图控制器
- `ImageGallerySaver`: 相册保存工具

### 图片规格
- 宽度: 1200px
- 高度: 自适应内容
- 格式: PNG
- 质量: 100%

## 注意事项
1. 需要先加载 B50 数据才能生成图片
2. 生成过程需要加载所有曲目封面，可能需要几秒钟
3. 图片较大，建议在 WiFi 环境下生成
4. 首次使用需要授予存储权限
